{

// test for SambaServer::setLDAPAdminDN
// $Id$
// testedfiles: Samba.ycp, SambaServer.ycp

    include "testsuite.ycp";

    TESTSUITE_INIT([
            $[
                "target" : $[
                    "tmpdir" : "/tmp"
                ]
            ],
            $[],
            $[
                "target" : $[
                    "bash_output" : $[]
                ]
            ]
        ],nil);    
    import "SambaServer";
    
    SambaServer::setLDAPAdminDN( "testing" );
    DUMP(SambaServer::LDAP_admin_dn);
    DUMP(SambaServer::modified);
    
    SambaServer::modified = false;
    SambaServer::setLDAPAdminDN( "testing" );
    DUMP(SambaServer::LDAP_admin_dn);
    // this time modified should not be set
    DUMP(SambaServer::modified);

    SambaServer::setLDAPAdminDN( "nexttesting" );
    DUMP(SambaServer::LDAP_admin_dn);
    // modified again
    DUMP(SambaServer::modified);
}
