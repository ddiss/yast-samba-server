{

// test for SambaServerPassdb::SetBackends
// $Id$

    include "testsuite.ycp";

    TESTSUITE_INIT( [
        $[ "target" : $[ "tmpdir" : "/tmp" ] ],
        $[],
        $[
            "target" : $[
                "bash_output" : $[],
            ],
        ]
    ], nil );
    
    import "SambaServerPassdb";
    
    SambaServerPassdb::SetBackends( ["smbpasswd"] );
    DUMP(SambaServerPassdb::GetBackends());
    DUMP(SambaServerPassdb::Modified());

    SambaServerPassdb::Write();   
 
    SambaServerPassdb::SetBackends( ["smbpasswd"] );
    DUMP(SambaServerPassdb::GetBackends());
    // this time modified should not be set - this does not work ATM
    DUMP(SambaServerPassdb::Modified());

    SambaServerPassdb::SetBackends( ["ldapsam:ldaps://ldap.example.com"] );
    DUMP(SambaServerPassdb::GetBackends ());
    // modified again
    DUMP(SambaServerPassdb::Modified());
}
