{

// test for SambaServer::DetermineRole() for BDC
// $Id$
// testedfiles: Samba.ycp Service.ycp SambaServer.ycp Ldap.ycp

    include "testsuite.ycp";

    TESTSUITE_INIT( [ 
	$[ 
	    "target" : $[ "tmpdir" : "/tmp" ],  
	    "etc" : $[
		"smb" : $[
		    "value" : $[
			"global" : $[
			    "workgroup" : "Test",
			    "security" : "user",
			    "domain master" : "no",
			    "domain logons" : "yes",
			    "local master" : "yes",
			    "preferred master" : "yes",
			],
		    ],
		],
		"printcap" : [],
	    ],
	    "passwd" : $[
		"passwd" : $[
		    "pluslines" : [],
		]
	    ],
	],
	$[],
	$[
    	    "target" : $[
        	"bash_output" : $[],
		"bash" : 1
    	    ],
	    "background" : $[
		"run_output" : true,
	    ],
	    "passwd" : $[
		"init" : true,
	    ],
	]
    ], nil );

    import "YaPI::Samba";

    DUMP(YaPI::Samba::DetermineRole());
}
