{

// test for YaPI::Samba::GetAllPrinters()
// $Id$
// testedfiles: Samba.ycp Service.ycp SambaServer.ycp Ldap.ycp

    import "SambaConfig";

    include "testsuite.ycp";
    include "./tests/tests-common.yh";

    map r = depth_union(r_common, $["etc" : $["smb" : $["all" : SambaConfig::Config2All( $[
                    "global" : $[
                        "workgroup" : "Test",
                        "domain master" : "no",
                        "security" : "user",
                        "preferred master" : "yes",
                        "domain logons" : "no",
                        "local master" : "no"],
                    "home" : $[
                        "comment" : "All homes",
                        "path" : "/home"],
                    "tmp" : $[
                        "guest ok" : "yes",
                        "path" : "/tmp"],
                    "lp" : $[
                        "comment" : "testing printer",
                        "printable" : "yes",
                        "path" : "/var/spool/lp"]])]]]);
    map w = depth_union(w_common, $[]);
    map x = depth_union(x_common, $[]);

    TESTSUITE_INIT([r,w,x], nil);
    import "YaPI::Samba";

    TEST( ``(YaPI::Samba::GetAllPrinters()), [r,w,x], nil);
}
