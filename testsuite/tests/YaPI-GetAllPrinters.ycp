{

// test for YaPI::Samba::GetAllPrinters()
// $Id$
// testedfiles: Samba.ycp Service.ycp SambaServer.ycp Ldap.ycp

    include "testsuite.ycp";

    list rwe = [
            $[
                "passwd" : $[
                    "passwd" : $[
                        "pluslines" : []
                    ]
                ],
                "target" : $[
                    "tmpdir" : "/tmp",
                    "size" : 0
                ],
                "etc" : $[
                    "smb" : $[
                        "value_type" : $[
                            "global" : $[
                                "workgroup" : 0,
                                "domain master" : 0,
                                "security" : 0,
                                "preferred master" : 0,
                                "domain logons" : 0,
                                "local master" : 0
                            ],
                            "tmp" : $[
                                "guest ok" : 0,
                                "path" : 0
                            ],
                            "home" : $[
                                "comment" : 0,
                                "path" : 0
                            ],
                            "lp" : $[
                                "comment" : 0,
                                "printable" : 0,
                                "path" : 0
                            ]
                        ],
                        "section_type" : $[
                            "home" : 1,
                            "tmp" : 0,
                            "lp" : 0
                        ],
                        "value" : $[
                            "global" : $[
                                "workgroup" : "Test",
                                "domain master" : "no",
                                "security" : "user",
                                "preferred master" : "yes",
                                "local master" : "no",
                                "domain logons" : "no"
                            ],
                            "home" : $[
                                "comment" : "All homes",
                                "path" : "/home"
                            ],
                            "tmp" : $[
                                "guest ok" : "yes",
                                "path" : "/tmp"
                            ],
                            "lp" : $[
                                "comment" : "testing printer",
                                "printable" : "yes",
                                "path" : "/var/spool/lp"
                            ]
                        ],
                        "section" : $[
                            "home" : $[],
                            "tmp" : $[],
                            "lp" : $[]
                        ]
                    ],
                    "printcap" : []
                ]
            ],
            $[],
            $[
                "passwd" : $[
                    "init" : true
                ],
                "target" : $[
                    "bash" : 1,
                    "bash_output" : $[]
                ],
                "background" : $[
                    "run_output" : true
                ]
            ]
        ];
    TESTSUITE_INIT(rwe, nil);
    import "YaPI::Samba";

    import "Mode";
    Mode::test = true;

    TEST( ``(YaPI::Samba::GetAllPrinters()), rwe, nil);
}
