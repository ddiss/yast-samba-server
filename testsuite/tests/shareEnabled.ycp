{

// test for SambaServer::shareEnabled
// $Id$

    include "testsuite.ycp";

    list rwe = [
            $[
                "target" : $[
                    "tmpdir" : "/tmp",
                    "size" : 0
                ]
            ],
            $[],
            $[
                "target" : $[
                    "bash_output" : $[]
                ]
            ]
        ];
    TESTSUITE_INIT(rwe, nil);
    include "samba-server/routines.ycp";
    
    // test commentout
    TEST( ``( shareEnabled( $[ "commentout" : true ] ) ), rwe, nil);
    TEST( ``( shareEnabled( $[ "commentout" : false ] ) ), rwe, nil);

    // test available flag
    TEST( ``( shareEnabled( $[ "available" : "yes" ] ) ), rwe, nil);
    TEST( ``( shareEnabled( $[ "available" : "no" ] ) ), rwe, nil);
    TEST( ``( shareEnabled( $[ "available" : "true" ] ) ), rwe, nil);
    TEST( ``( shareEnabled( $[ "available" : "false" ] ) ), rwe, nil);

    // available and commentout
    TEST( ``( shareEnabled( $[ "available" : "yes", "commentout": false ] ) ), rwe, nil);
    TEST( ``( shareEnabled( $[ "available" : "no", "commentout": false ] ) ), rwe, nil);
    TEST( ``( shareEnabled( $[ "available" : "true", "commentout": true ] ) ), rwe, nil);
    TEST( ``( shareEnabled( $[ "available" : "false", "commentout": true ] ) ), rwe, nil);
}
